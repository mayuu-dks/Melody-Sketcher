<!DOCTYPE html>
<meta charset="utf-8">
<title>Audio preload test</title>
<button id="btn">preload + play</button>
<script>
  document.getElementById('btn').onclick = async () => {
    const src = '/Melody-Sketcher/beep.wav';   // wav / m4a ã©ã¡ã‚‰ã§ã‚‚
    console.error('ğŸ” create', src);

    const a = new Audio(src);
    a.preload = 'auto';
    a.style.display = 'none';
    document.body.appendChild(a);

    a.addEventListener('canplaythrough', () => console.error('âœ… canplay'));
    a.addEventListener('error',        () => console.error('ğŸŸ¥ error', a.error));
    a.load();                       // ã“ã“ã§å¿…ãš Network ã« GET

    try { await a.play();           // å†ç”Ÿã—ã¦ã¿ã‚‹
    } catch(e) { console.error('play error', e); }
  };
</script>
